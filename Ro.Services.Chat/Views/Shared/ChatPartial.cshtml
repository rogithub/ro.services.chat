

<script type="text/html" id="ChatPartial">
    <div id="mesagges" class="chatcontent">        
    <!-- ko if: isPublic() === true -->
    <!-- ko foreach: messages() -->
        <div data-bind="css:  { 
                                'text-right': isLocal                                
                            }">
            <p class="alert" data-bind="css:  { 
                                'msgSaliente': isLocal,
                                'msgEntrante': !isLocal,
                            }">
                <strong data-bind="text: user, visible: !isLocal"></strong>
                <span data-bind="text: message"></span>

                <small class="text-muted" data-bind="text: date.toLocaleTimeString('en-US',
                {
                    hour12 : true,
                    hour:  '2-digit',
                    minute: '2-digit'
                });"></small>
            </p>
        </div>
    <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: isPublic() === false -->
    <!-- ko foreach: privateMessages[chattingWith().id]() -->
        <div data-bind="css:  { 
                                'text-right': isLocal                                
                            }">
            <p class="alert" data-bind="css:  { 
                                'msgSaliente': isLocal,
                                'msgEntrante': !isLocal,
                            }">                
                <span data-bind="text: message"></span>

                <small class="text-muted" data-bind="text: date.toLocaleTimeString('en-US',
                {
                    hour12 : true,
                    hour:  '2-digit',
                    minute: '2-digit'
                });"></small>
            </p>
        </div>
    <!-- /ko -->
    <!-- /ko -->    
    </div>

    <!-- ko if: (isPublic() || chattingWith().connected())  -->
    <nav class="navbar fixed-bottom navbar-dark bg-dark">
        <form id="frmMsg" data-bind="submit: sendMessage.bind($data)">    
            <input type="text" id="txtMsg" class="form-control" data-bind="textInput: message" required maxlength="250">            
        </form>
    </nav>
    <!-- /ko -->

    <!-- ko if: (isPublic() === false && chattingWith().connected() === false)  -->
    <nav class="navbar fixed-bottom navbar-dark bg-dark">        
        <div class="text-center" style="width: 100%">
            <p class="alert alert-danger">
                Usuario desconectado
                <a href="#" class="btn btn-danger">Borrar conversaci√≥n</a>
            </p>
        </div>        
    </nav>
    <!-- /ko -->
</script>